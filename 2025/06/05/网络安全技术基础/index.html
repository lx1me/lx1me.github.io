<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Hexo | Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="application-name" content="Hexo"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Hexo"><meta property="og:url" content="https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="网络安全技术基础 title: 网络安全技术基础date: 2025-06-05categories: [网络安全]tags: [IDS, 防火墙, 网络攻击]description: 网络安全技术中的基本概念和防御机制概述1. 基本概念1.1 IDS：入侵检测系统 (Intrusion Detec"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="John Doe"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="网络安全技术基础 title: 网络安全技术基础date: 2025-06-05categories: [网络安全]tags: [IDS, 防火墙, 网络攻击]description: 网络安全技术中的基本概念和防御机制概述1. 基本概念1.1 IDS：入侵检测系统 (Intrusion Detec"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: John Doe","link":"链接: ","source":"来源: Hexo","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Hexo',
  title: 'Hexo',
  postAI: '',
  pageFillDescription: '网络安全技术基础, title 网络安全技术基础date 2025-06-05categories [网络安全]tags [IDS 防火墙 网络攻击]description 网络安全技术中的基本概念和防御机制概述, 1. 基本概念, 1.1 IDS：入侵检测系统 (Intrusion Detection Systems), 1.2 IPS：入侵防御系统 (Intrusion Prevention System), 1.3 防火墙 (Firewall), 1.4 防水墙 (Waterwall), 1.5 网络解决方案的常见样式, 2. 防火墙的分类与实现方式, 2.1 按照保护范围划分, 2.2 按实现方式划分, 2.3 按网络协议划分, 2.4 按实现细节划分, 3. Linux 防火墙基础知识, 4. 防火墙工具, 4.1 iptables, 4.2 xtables-nft-multi, 4.3 firewalld, 4.4 nftables, 4.5 ufw (Uncomplicated Firewall), 5. iptables命令格式与匹配条件, 6. 网络防火墙与NAT技术, 6.1 NAT原理解析, 6.2 SNAT 实现源IP地址转换, 6.3 MASQUERADE 实现源IP地址转换, 6.4 DNAT 实现目标IP地址转换, 6.5 REDIRECT 实现本机端口转换, 7. FORWARD链转发机制, 8. 自定义链, 9. firewalld, 总结与要点网络安全技术基础网络安全技术基础网络安全防火墙网络攻击网络安全技术中的基本概念和防御机制概述基本概念入侵检测系统特点不阻断网络访问而是依据安全策略对网络和系统运行状况进行监控尽可能发现各种攻击企图攻击行为或攻击结果保障机密性完整性和可用性是安全防护的重要监测手段入侵防御系统特点以串行方式接入系统能深度感知并检测经过的数据报文根据预设安全策略对报文进行深度检测协议分析特征匹配流量统计事件关联等如发现网络攻击立即采取措施中断连接丢弃报文隔离文件告警等实现主动防御防火墙功能与作用在内部网络与外部网络专用网络与公共网络可信网络与不可信网络之间建立安全屏障通过访问控制允许经许可的数据进出同时阻断非法流量支持规则配置既可禁止本地网络向外发送数据也可根据需要转发网络流量防水墙功能与特点防止内部信息泄漏保护涉密信息重要业务数据和技术专利利用透明加解密身份认证访问控制和审计跟踪等技术手段实现安全保护最大限度防止信息泄漏破坏或违规外传并完整记录操作日志以便日后审计网络解决方案的常见样式两层防火墙内层防火墙限制极高只允许特定网络访问单层防火墙一套防火墙配备三个网卡接口但存在一定安全隐患多层防火墙在靠近互联网的外部部署更多防火墙增强防护深度禁止网络访问完全封闭网络通信适用于高安全性场景防火墙的分类与实现方式按照保护范围划分主机防火墙针对单个主机进行防护运行在终端设备上能阻止未授权程序和数据的进出和均内置防火墙网络防火墙部署在整个系统的主干网络上过滤所有进出数据包按实现方式划分硬件防火墙独立硬件设备具备独立供电与部署软件独立运行专用硬件资源使其在功能和性能上均表现优异常基于内核二次开发针对特定场景进行深度优化软件防火墙以应用程序形式提供服务运行于通用硬件平台并寄生于操作系统中通过纯软件实现防护灵活性较高便于管理和更新按网络协议划分网络层防火墙分析数据包的源地址目标地址端口号及协议依据访问控制列表执行规则仅基于数据包头部信息过滤无法解析应用层数据应用层防火墙针对特定网络应用服务协议设计数据过滤逻辑部署在内外部网络隔离点作为中间转接控制数据通信按实现细节划分包过滤防火墙根据用户定制关键字检查数据包的网络信息不解析具体数据应用层控制较弱适用于基本过滤需求应用网关防火墙检查数据包的具体数据信息如报头实现较为细致的控制网络层控制较弱但可针对特定应用场景进行配置状态检测防火墙在包过滤基础上增加数据包状态检测判断连接状态能够动态控制连接提供更强的安全性但应用层控制依然有限复合型防火墙综合网络层与应用层控制并具备会话层控制能力实现更全面的防护适用于高安全性要求的环境防火墙基础知识封装数据应用数据从上层进入传输层添加源目标端口形成数据段首部然后进入网络层加上源目标形成数据包最后进入链路层加上源目标地址构成数据帧形成完整数据包解封装数据数据到达目标主机后按照封装的反向顺序逐层解包最终还原出真实的应用内容数据包过滤在数据传输过程中对数据包进行严格过滤确保只有符合安全策略的流量能够通过防火墙工具由软件包提供的命令行工具运行于用户空间用于编写防火墙规则规则传递给指导内核处理数据包默认安装于多数操作系统如需扩展功能可开发专用模块过渡工具旨在帮助用户从传统平滑迁移至体系管理及规则基于后端实现中用于动态管理防火墙规则的系统守护进程支持定义网络区域和接口安全等级可实时更改规则而无需重启服务新一代防火墙技术旨在取代传统在性能功能及易用性方面有显著提升适合现代网络需求主机级防火墙配置工具默认提供简化配置兼顾易用性和灵活性核心原理底层依然使用通过简单语法和默认配置进行管理提供便捷的命令行接口方便规则添加删除和管理命令格式与匹配条件命令格式子命令链规则策略匹配条件多条件默认与关系匹配源地址或网段逗号分隔多个地址匹配目标地址或网段匹配具体协议协议号或名称代表所有协议匹配数据包输入接口适用于链匹配数据包输出接口适用于链表示规则取反网络防火墙与技术原理解析网络地址转换局域网内主机通常分配私有地址这些地址在互联网中不可路由当局域网主机访问互联网时私有地址经转换为公网数据包出站进行源地址转换入站进行目标地址转换实现内外通信实现源地址转换基于表在链上工作将数据包的源转换为指定的公网配置示例指定转换后的或范围及端口可选基于算法实现端口映射随机化实现源地址转换用于出口设备可能变化如拨号上网的场景自动获取网卡作为出口进行地址转换配置示例指定端口范围可选随机化端口映射实现目标地址转换用于将内网私有地址转换为公网使内网服务在公网可见基于表在链上工作配置示例指定固定公网转换为指定内网及端口可选注意规则仅能重定向到单台后端主机无法实现负载均衡防火墙作为内核模块其监听端口可能不通过或显示实现本机端口转换将数据包重定向到同一主机的其他端口无需开启内核转发配置示例指定新的目标端口链转发机制链处理需转发至其他主机的数据包目的地址非本机通过规则决定数据包是否允许拒绝或丢弃应用场景路由器或网关设备转发不同网络间的数据包防火墙通过规则允许或拒绝特定地址或端口范围的数据包自定义链除系统自带链外支持自定义链以便分组规则及重复调用添加自定义链后需将其作为系统链的关联才能生效是用于管理的用户空间工具支持及通过守护进程实现防火墙规则的动态配置与监控内置多个每个对应一套防火墙规则支持自定义修改总结与要点与主要用于监控与检测不直接干预网络访问则在检测到异常时采取主动防御措施确保网络安全防火墙作为网络安全的第一道防线防火墙通过多种技术和策略过滤网络流量分为主机防火墙和网络防火墙硬件和软件实现各有优劣依据网络协议和实现细节进一步细分以适应不同安全需求技术在实现私有与公网转换中起关键作用包括和等多种实现方式各自适用于不同场景链与自定义链链用于转发非本机目的地的数据包是路由器和防火墙的重要组成部分自定义链有助于规则管理和复用提升配置灵活性提供现代化动态化的防火墙管理简化规则配置和监控适用于多种发行版',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-05 09:56:34',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Hexo</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-06-05T01:52:55.118Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-06-05T01:56:34.722Z" title="更新于 2025-06-05 09:56:34">2025-06-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/"><header><h1 id="CrawlerTitle" itemprop="name headline">无题</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">John Doe</span><time itemprop="dateCreated datePublished" datetime="2025-06-05T01:52:55.118Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time><time itemprop="dateCreated datePublished" datetime="2025-06-05T01:56:34.722Z" title="更新于 2025-06-05 09:56:34">2025-06-05</time></header><h1 id="网络安全技术基础"><a href="#网络安全技术基础" class="headerlink" title="网络安全技术基础"></a>网络安全技术基础</h1><hr>
<h2 id="title-网络安全技术基础date-2025-06-05categories-网络安全-tags-IDS-防火墙-网络攻击-description-网络安全技术中的基本概念和防御机制概述"><a href="#title-网络安全技术基础date-2025-06-05categories-网络安全-tags-IDS-防火墙-网络攻击-description-网络安全技术中的基本概念和防御机制概述" class="headerlink" title="title: 网络安全技术基础date: 2025-06-05categories: [网络安全]tags: [IDS, 防火墙, 网络攻击]description: 网络安全技术中的基本概念和防御机制概述"></a>title: 网络安全技术基础<br>date: 2025-06-05<br>categories: [网络安全]<br>tags: [IDS, 防火墙, 网络攻击]<br>description: 网络安全技术中的基本概念和防御机制概述</h2><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1. 基本概念"></a>1. 基本概念</h2><h3 id="1-1-IDS：入侵检测系统-Intrusion-Detection-Systems"><a href="#1-1-IDS：入侵检测系统-Intrusion-Detection-Systems" class="headerlink" title="1.1 IDS：入侵检测系统 (Intrusion Detection Systems)"></a>1.1 IDS：入侵检测系统 (Intrusion Detection Systems)</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 特点：</span><br><span class="line">  - 不阻断网络访问，而是依据安全策略对网络和系统运行状况进行监控。</span><br><span class="line">  - 尽可能发现各种攻击企图、攻击行为或攻击结果。</span><br><span class="line">  - 保障机密性、完整性和可用性，是安全防护的重要监测手段。</span><br></pre></td></tr></table></figure>

<h3 id="1-2-IPS：入侵防御系统-Intrusion-Prevention-System"><a href="#1-2-IPS：入侵防御系统-Intrusion-Prevention-System" class="headerlink" title="1.2 IPS：入侵防御系统 (Intrusion Prevention System)"></a>1.2 IPS：入侵防御系统 (Intrusion Prevention System)</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 特点：</span><br><span class="line">  - 以串行方式接入系统，能深度感知并检测经过的数据报文。</span><br><span class="line">  - 根据预设安全策略对报文进行深度检测（协议分析、特征匹配、流量统计、事件关联等）。</span><br><span class="line">  - 如发现网络攻击，立即采取措施（中断连接、丢弃报文、隔离文件、告警等），实现主动防御。</span><br></pre></td></tr></table></figure>

<h3 id="1-3-防火墙-Firewall"><a href="#1-3-防火墙-Firewall" class="headerlink" title="1.3 防火墙 (Firewall)"></a>1.3 防火墙 (Firewall)</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 功能与作用：</span><br><span class="line">  - 在内部网络与外部网络、专用网络与公共网络、可信网络与不可信网络之间建立安全屏障。</span><br><span class="line">  - 通过访问控制允许经许可的数据进出，同时阻断非法流量。</span><br><span class="line">  - 支持规则配置，既可禁止本地网络向外发送数据，也可根据需要转发网络流量。</span><br></pre></td></tr></table></figure>

<h3 id="1-4-防水墙-Waterwall"><a href="#1-4-防水墙-Waterwall" class="headerlink" title="1.4 防水墙 (Waterwall)"></a>1.4 防水墙 (Waterwall)</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 功能与特点：</span><br><span class="line">  - 防止内部信息泄漏，保护涉密信息、重要业务数据和技术专利。</span><br><span class="line">  - 利用透明加解密、身份认证、访问控制和审计跟踪等技术手段实现安全保护。</span><br><span class="line">  - 最大限度防止信息泄漏、破坏或违规外传，并完整记录操作日志以便日后审计。</span><br></pre></td></tr></table></figure>

<h3 id="1-5-网络解决方案的常见样式"><a href="#1-5-网络解决方案的常见样式" class="headerlink" title="1.5 网络解决方案的常见样式"></a>1.5 网络解决方案的常见样式</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 两层防火墙：内层防火墙限制极高，只允许特定网络访问。</span><br><span class="line"><span class="number">2</span>. 单层防火墙：一套防火墙配备三个网卡接口，但存在一定安全隐患。</span><br><span class="line"><span class="number">3</span>. 多层防火墙：在靠近互联网的外部部署更多防火墙，增强防护深度。</span><br><span class="line"><span class="number">4</span>. 禁止网络访问：完全封闭网络通信，适用于高安全性场景。</span><br></pre></td></tr></table></figure>

<h2 id="2-防火墙的分类与实现方式"><a href="#2-防火墙的分类与实现方式" class="headerlink" title="2. 防火墙的分类与实现方式"></a>2. 防火墙的分类与实现方式</h2><h3 id="2-1-按照保护范围划分"><a href="#2-1-按照保护范围划分" class="headerlink" title="2.1 按照保护范围划分"></a>2.1 按照保护范围划分</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 主机防火墙：</span><br><span class="line">  - 针对单个主机进行防护，运行在终端设备上。</span><br><span class="line">  - 能阻止未授权程序和数据的进出（Windows和Linux均内置防火墙）。</span><br><span class="line"></span><br><span class="line">- 网络防火墙：</span><br><span class="line">  - 部署在整个系统的主干网络上，过滤所有进出数据包。</span><br></pre></td></tr></table></figure>

<h3 id="2-2-按实现方式划分"><a href="#2-2-按实现方式划分" class="headerlink" title="2.2 按实现方式划分"></a>2.2 按实现方式划分</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- 硬件防火墙：</span><br><span class="line">  - 独立硬件设备，具备独立供电与部署。</span><br><span class="line">  - 软件独立运行，专用硬件资源使其在功能和性能上均表现优异。</span><br><span class="line">  - 常基于Linux内核二次开发，针对特定场景进行深度优化。</span><br><span class="line"></span><br><span class="line">- 软件防火墙：</span><br><span class="line">  - 以应用程序形式提供服务，运行于通用硬件平台并寄生于操作系统中。</span><br><span class="line">  - 通过纯软件实现防护，灵活性较高，便于管理和更新。</span><br></pre></td></tr></table></figure>

<h3 id="2-3-按网络协议划分"><a href="#2-3-按网络协议划分" class="headerlink" title="2.3 按网络协议划分"></a>2.3 按网络协议划分</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- 网络层防火墙：</span><br><span class="line">  - 分析数据包的源地址、目标地址、端口号及协议，依据访问控制列表（ACL）执行规则。</span><br><span class="line">  - 仅基于数据包头部信息过滤，无法解析应用层数据。</span><br><span class="line"></span><br><span class="line">- 应用层防火墙：</span><br><span class="line">  - 针对特定网络应用服务协议设计数据过滤逻辑。</span><br><span class="line">  - 部署在内外部网络隔离点，作为中间转接控制数据通信。</span><br></pre></td></tr></table></figure>

<h3 id="2-4-按实现细节划分"><a href="#2-4-按实现细节划分" class="headerlink" title="2.4 按实现细节划分"></a>2.4 按实现细节划分</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- 包过滤防火墙：</span><br><span class="line">  - 根据用户定制关键字检查数据包的网络信息，不解析具体数据。</span><br><span class="line">  - 应用层控制较弱，适用于基本过滤需求。</span><br><span class="line"></span><br><span class="line">- 应用网关防火墙：</span><br><span class="line">  - 检查数据包的具体数据信息（如IP、TCP报头），实现较为细致的控制。</span><br><span class="line">  - 网络层控制较弱，但可针对特定应用场景进行配置。</span><br><span class="line"></span><br><span class="line">- 状态检测防火墙：</span><br><span class="line">  - 在包过滤基础上增加数据包状态检测，判断连接状态。</span><br><span class="line">  - 能够动态控制连接，提供更强的安全性，但应用层控制依然有限。</span><br><span class="line"></span><br><span class="line">- 复合型防火墙：</span><br><span class="line">  - 综合网络层与应用层控制，并具备会话层控制能力。</span><br><span class="line">  - 实现更全面的防护，适用于高安全性要求的环境。</span><br></pre></td></tr></table></figure>

<h2 id="3-Linux-防火墙基础知识"><a href="#3-Linux-防火墙基础知识" class="headerlink" title="3. Linux 防火墙基础知识"></a>3. Linux 防火墙基础知识</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- 封装数据：</span><br><span class="line">  - 应用数据从上层进入传输层，添加源/目标端口形成数据段（TCP/UDP首部），</span><br><span class="line">    然后进入网络层，加上源/目标IP形成数据包，</span><br><span class="line">    最后进入链路层，加上源/目标MAC地址构成数据帧，形成完整数据包。</span><br><span class="line"></span><br><span class="line">- 解封装数据：</span><br><span class="line">  - 数据到达目标主机后，按照封装的反向顺序逐层解包，最终还原出真实的应用内容。</span><br><span class="line"></span><br><span class="line">- 数据包过滤：</span><br><span class="line">  - 在数据传输过程中对数据包进行严格过滤，</span><br><span class="line">    确保只有符合安全策略的流量能够通过。</span><br></pre></td></tr></table></figure>

<h2 id="4-防火墙工具"><a href="#4-防火墙工具" class="headerlink" title="4. 防火墙工具"></a>4. 防火墙工具</h2><h3 id="4-1-iptables"><a href="#4-1-iptables" class="headerlink" title="4.1 iptables"></a>4.1 iptables</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 由iptables软件包提供的命令行工具，运行于用户空间。</span><br><span class="line">- 用于编写防火墙规则，规则传递给netfilter指导内核处理数据包。</span><br><span class="line">- 默认安装于多数操作系统，如需扩展功能可开发专用模块。</span><br></pre></td></tr></table></figure>

<h3 id="4-2-xtables-nft-multi"><a href="#4-2-xtables-nft-multi" class="headerlink" title="4.2 xtables-nft-multi"></a>4.2 xtables-nft-multi</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 过渡工具，旨在帮助用户从传统iptables平滑迁移至nftables体系。</span><br><span class="line">- 管理iptables、arptables及ebtables规则，基于nftables后端实现。</span><br></pre></td></tr></table></figure>

<h3 id="4-3-firewalld"><a href="#4-3-firewalld" class="headerlink" title="4.3 firewalld"></a>4.3 firewalld</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- Linux中用于动态管理防火墙规则的系统守护进程。</span><br><span class="line">- 支持定义网络区域（Zone）和接口安全等级，可实时更改规则而无需重启服务。</span><br></pre></td></tr></table></figure>

<h3 id="4-4-nftables"><a href="#4-4-nftables" class="headerlink" title="4.4 nftables"></a>4.4 nftables</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 新一代Linux防火墙技术，旨在取代传统iptables。</span><br><span class="line">- 在性能、功能及易用性方面有显著提升，适合现代网络需求。</span><br></pre></td></tr></table></figure>

<h3 id="4-5-ufw-Uncomplicated-Firewall"><a href="#4-5-ufw-Uncomplicated-Firewall" class="headerlink" title="4.5 ufw (Uncomplicated Firewall)"></a>4.5 ufw (Uncomplicated Firewall)</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 主机级防火墙配置工具，Ubuntu默认提供。</span><br><span class="line">- 简化iptables配置，兼顾易用性和灵活性。</span><br><span class="line">- 核心原理：</span><br><span class="line">  - 底层依然使用iptables，通过简单语法和默认配置进行管理。</span><br><span class="line">  - 提供便捷的命令行接口，方便规则添加、删除和管理。</span><br></pre></td></tr></table></figure>

<h2 id="5-iptables命令格式与匹配条件"><a href="#5-iptables命令格式与匹配条件" class="headerlink" title="5. iptables命令格式与匹配条件"></a>5. iptables命令格式与匹配条件</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- 命令格式：</span><br><span class="line">  iptables -子命令 &lt;链&gt; &lt;规则策略&gt;</span><br><span class="line"></span><br><span class="line">- 匹配条件（多条件默认“与”关系）：</span><br><span class="line">  - [!] -s|<span class="comment">--source address[/mask][,...]    # 匹配源IP地址或网段（逗号分隔多个地址）</span></span><br><span class="line">  - [!] -d|<span class="comment">--destination address[/mask][,...]  # 匹配目标IP地址或网段</span></span><br><span class="line">  - [!] -p|<span class="comment">--protocol protocol                # 匹配具体协议（协议号或名称，0代表所有协议）</span></span><br><span class="line">  - [!] -i|<span class="comment">--in-interface name                # 匹配数据包输入接口（适用于INPUT/FORWARD/PREROUTING链）</span></span><br><span class="line">  - [!] -o|<span class="comment">--out-interface name               # 匹配数据包输出接口（适用于OUTPUT/FORWARD/POSTROUTING链）</span></span><br><span class="line">- “!” 表示规则取反。</span><br></pre></td></tr></table></figure>

<h2 id="6-网络防火墙与NAT技术"><a href="#6-网络防火墙与NAT技术" class="headerlink" title="6. 网络防火墙与NAT技术"></a>6. 网络防火墙与NAT技术</h2><h3 id="6-1-NAT原理解析"><a href="#6-1-NAT原理解析" class="headerlink" title="6.1 NAT原理解析"></a>6.1 NAT原理解析</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- NAT (Network Address Translation) 网络地址转换：</span><br><span class="line">  - 局域网内主机通常分配私有IP地址，这些地址在互联网中不可路由。</span><br><span class="line">  - 当局域网主机访问互联网时，私有IP地址经NAT转换为公网IP，</span><br><span class="line">    数据包出站进行源地址转换，入站进行目标地址转换，实现内外通信。</span><br></pre></td></tr></table></figure>

<h3 id="6-2-SNAT-实现源IP地址转换"><a href="#6-2-SNAT-实现源IP地址转换" class="headerlink" title="6.2 SNAT 实现源IP地址转换"></a>6.2 SNAT 实现源IP地址转换</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- SNAT (Source NAT)：</span><br><span class="line">  - 基于nat表，在POSTROUTING链上工作，将数据包的源IP转换为指定的公网IP。</span><br><span class="line">- 配置示例：</span><br><span class="line">  iptables -t nat -A POSTROUTING -s LocalNet ! -d LocalNet -j SNAT <span class="comment">--to-source ExtIP [--random]</span></span><br><span class="line">  - <span class="comment">--to-source：指定转换后的IP或IP范围及端口（可选）。</span></span><br><span class="line">  - <span class="comment">--random：基于hash算法实现端口映射随机化。</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-MASQUERADE-实现源IP地址转换"><a href="#6-3-MASQUERADE-实现源IP地址转换" class="headerlink" title="6.3 MASQUERADE 实现源IP地址转换"></a>6.3 MASQUERADE 实现源IP地址转换</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- MASQUERADE：</span><br><span class="line">  - 用于出口设备IP可能变化（如拨号上网）的场景，</span><br><span class="line">    自动获取网卡IP作为出口IP进行地址转换。</span><br><span class="line">- 配置示例：</span><br><span class="line">  iptables -t nat -A POSTROUTING -s LocalNet ! -d LocalNet -j MASQUERADE [<span class="comment">--to-ports port[-port]] [--random]</span></span><br><span class="line">  - <span class="comment">--to-ports：指定端口范围（可选）。</span></span><br><span class="line">  - <span class="comment">--random：随机化端口映射.</span></span><br></pre></td></tr></table></figure>

<h3 id="6-4-DNAT-实现目标IP地址转换"><a href="#6-4-DNAT-实现目标IP地址转换" class="headerlink" title="6.4 DNAT 实现目标IP地址转换"></a>6.4 DNAT 实现目标IP地址转换</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- DNAT (Destination NAT)：</span><br><span class="line">  - 用于将内网私有IP地址转换为公网IP，使内网服务在公网可见。</span><br><span class="line">  - 基于nat表，在PREROUTING链上工作。</span><br><span class="line">- 配置示例：</span><br><span class="line">  iptables -t nat -A PREROUTING -d ExtIP -p tcp|udp|icmp <span class="comment">--dport PORT -j DNAT --to-destination InterSeverIP[:PORT]</span></span><br><span class="line">  - -d ExtIP：指定固定公网IP。</span><br><span class="line">  - <span class="comment">--to-destination：转换为指定内网IP（及端口可选）。</span></span><br><span class="line">- 注意：</span><br><span class="line">  - DNAT规则仅能重定向到单台后端主机，无法实现负载均衡。</span><br><span class="line">  - 防火墙作为内核模块，其监听端口可能不通过netstat或ss显示。</span><br></pre></td></tr></table></figure>

<h3 id="6-5-REDIRECT-实现本机端口转换"><a href="#6-5-REDIRECT-实现本机端口转换" class="headerlink" title="6.5 REDIRECT 实现本机端口转换"></a>6.5 REDIRECT 实现本机端口转换</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- REDIRECT：</span><br><span class="line">  - 将数据包重定向到同一主机的其他端口，无需开启内核ip_forward转发。</span><br><span class="line">- 配置示例：</span><br><span class="line">  iptables -t nat -A PREROUTING -d ExtIP -p tcp|udp <span class="comment">--dport PORT -j REDIRECT --to-ports PORT</span></span><br><span class="line">  - <span class="comment">--to-ports：指定新的目标端口。</span></span><br></pre></td></tr></table></figure>

<h2 id="7-FORWARD链转发机制"><a href="#7-FORWARD链转发机制" class="headerlink" title="7. FORWARD链转发机制"></a>7. FORWARD链转发机制</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- FORWARD链：</span><br><span class="line">  - 处理需转发至其他主机的数据包（目的地址非本机）。</span><br><span class="line">  - 通过规则决定数据包是否允许、拒绝或丢弃。</span><br><span class="line">- 应用场景：</span><br><span class="line">  - 路由器或网关设备：转发不同网络间的数据包。</span><br><span class="line">  - 防火墙：通过规则允许或拒绝特定IP地址或端口范围的数据包。</span><br></pre></td></tr></table></figure>

<h2 id="8-自定义链"><a href="#8-自定义链" class="headerlink" title="8. 自定义链"></a>8. 自定义链</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 除系统自带链外，iptables支持自定义链以便分组规则及重复调用。</span><br><span class="line">- 添加自定义链后，需将其作为系统链的target关联，才能生效。</span><br></pre></td></tr></table></figure>

<h2 id="9-firewalld"><a href="#9-firewalld" class="headerlink" title="9. firewalld"></a>9. firewalld</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- firewalld是用于管理netfilter的用户空间工具，支持iptables、ip6tables及ebtables。</span><br><span class="line">- 通过守护进程实现防火墙规则的动态配置与监控。</span><br><span class="line">- 内置多个Zone，每个Zone对应一套防火墙规则，支持自定义修改。</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="总结与要点"><a href="#总结与要点" class="headerlink" title="总结与要点"></a>总结与要点</h1><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- IDS与IPS：</span><br><span class="line">  - IDS主要用于监控与检测，不直接干预网络访问；</span><br><span class="line">  - IPS则在检测到异常时采取主动防御措施，确保网络安全。</span><br><span class="line"></span><br><span class="line">- 防火墙：</span><br><span class="line">  - 作为网络安全的第一道防线，防火墙通过多种技术和策略过滤网络流量，</span><br><span class="line">    分为主机防火墙和网络防火墙，硬件和软件实现各有优劣。</span><br><span class="line">  - 依据网络协议和实现细节进一步细分，以适应不同安全需求。</span><br><span class="line"></span><br><span class="line">- NAT技术：</span><br><span class="line">  - NAT在实现私有IP与公网IP转换中起关键作用，</span><br><span class="line">    包括SNAT、MASQUERADE、DNAT和REDIRECT等多种实现方式，各自适用于不同场景。</span><br><span class="line"></span><br><span class="line">- FORWARD链与自定义链：</span><br><span class="line">  - FORWARD链用于转发非本机目的地的数据包，是路由器和防火墙的重要组成部分。</span><br><span class="line">  - 自定义链有助于规则管理和复用，提升配置灵活性。</span><br><span class="line"></span><br><span class="line">- firewalld：</span><br><span class="line">  - 提供现代化、动态化的防火墙管理，简化规则配置和监控，适用于多种Linux发行版。</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">John Doe</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/')">Hexo</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Hexo&amp;url=https://lx1me.github.io/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://lx1me.github.io" target="_blank">Hexo</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2025/06/05/%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF%20Docker/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">网络安全技术基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#title-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80date-2025-06-05categories-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-tags-IDS-%E9%98%B2%E7%81%AB%E5%A2%99-%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB-description-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E9%98%B2%E5%BE%A1%E6%9C%BA%E5%88%B6%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">title: 网络安全技术基础date: 2025-06-05categories: [网络安全]tags: [IDS, 防火墙, 网络攻击]description: 网络安全技术中的基本概念和防御机制概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.2.</span> <span class="toc-text">1. 基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-IDS%EF%BC%9A%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F-Intrusion-Detection-Systems"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 IDS：入侵检测系统 (Intrusion Detection Systems)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-IPS%EF%BC%9A%E5%85%A5%E4%BE%B5%E9%98%B2%E5%BE%A1%E7%B3%BB%E7%BB%9F-Intrusion-Prevention-System"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 IPS：入侵防御系统 (Intrusion Prevention System)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E9%98%B2%E7%81%AB%E5%A2%99-Firewall"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 防火墙 (Firewall)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E9%98%B2%E6%B0%B4%E5%A2%99-Waterwall"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.4 防水墙 (Waterwall)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E5%B8%B8%E8%A7%81%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.5 网络解决方案的常见样式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E5%88%86%E7%B1%BB%E4%B8%8E%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.</span> <span class="toc-text">2. 防火墙的分类与实现方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%8C%89%E7%85%A7%E4%BF%9D%E6%8A%A4%E8%8C%83%E5%9B%B4%E5%88%92%E5%88%86"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 按照保护范围划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%8C%89%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E5%88%92%E5%88%86"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 按实现方式划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%8C%89%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%88%92%E5%88%86"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 按网络协议划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E6%8C%89%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82%E5%88%92%E5%88%86"><span class="toc-number">1.3.4.</span> <span class="toc-text">2.4 按实现细节划分</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Linux-%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.4.</span> <span class="toc-text">3. Linux 防火墙基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E9%98%B2%E7%81%AB%E5%A2%99%E5%B7%A5%E5%85%B7"><span class="toc-number">1.5.</span> <span class="toc-text">4. 防火墙工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-iptables"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 iptables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-xtables-nft-multi"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 xtables-nft-multi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-firewalld"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 firewalld</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-nftables"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.4 nftables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-ufw-Uncomplicated-Firewall"><span class="toc-number">1.5.5.</span> <span class="toc-text">4.5 ufw (Uncomplicated Firewall)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-iptables%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F%E4%B8%8E%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.6.</span> <span class="toc-text">5. iptables命令格式与匹配条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%BD%91%E7%BB%9C%E9%98%B2%E7%81%AB%E5%A2%99%E4%B8%8ENAT%E6%8A%80%E6%9C%AF"><span class="toc-number">1.7.</span> <span class="toc-text">6. 网络防火墙与NAT技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-NAT%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1 NAT原理解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SNAT-%E5%AE%9E%E7%8E%B0%E6%BA%90IP%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2 SNAT 实现源IP地址转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-MASQUERADE-%E5%AE%9E%E7%8E%B0%E6%BA%90IP%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.3.</span> <span class="toc-text">6.3 MASQUERADE 实现源IP地址转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-DNAT-%E5%AE%9E%E7%8E%B0%E7%9B%AE%E6%A0%87IP%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.4.</span> <span class="toc-text">6.4 DNAT 实现目标IP地址转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-REDIRECT-%E5%AE%9E%E7%8E%B0%E6%9C%AC%E6%9C%BA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.5.</span> <span class="toc-text">6.5 REDIRECT 实现本机端口转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-FORWARD%E9%93%BE%E8%BD%AC%E5%8F%91%E6%9C%BA%E5%88%B6"><span class="toc-number">1.8.</span> <span class="toc-text">7. FORWARD链转发机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%93%BE"><span class="toc-number">1.9.</span> <span class="toc-text">8. 自定义链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-firewalld"><span class="toc-number">1.10.</span> <span class="toc-text">9. firewalld</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E8%A6%81%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">总结与要点</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/05/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/" title="无题">无题</a><time datetime="2025-06-05T01:52:55.118Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/05/%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF%20Docker/" title="无题">无题</a><time datetime="2025-06-05T01:52:55.113Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/05/%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%20ZABBIX/" title="无题">无题</a><time datetime="2025-06-05T01:52:55.113Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/05/%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%A0%A1%E5%9E%92%E6%9C%BA%20JumpServer/" title="无题">无题</a><time datetime="2025-06-05T01:52:55.108Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/05/%E4%BC%81%E4%B8%9A%E7%BA%A7%E8%B0%83%E5%BA%A6%E5%99%A8LVS/" title="无题">无题</a><time datetime="2025-06-05T01:52:55.108Z" title="发表于 2025-06-05 09:52:55">2025-06-05</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="John Doe" target="_blank">John Doe</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 John Doe 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>